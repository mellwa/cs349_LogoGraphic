<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>CS349 WatGUI: cs349::XApplication Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CS349 WatGUI
   &#160;<span id="projectnumber">2014.01</span>
   </div>
   <div id="projectbrief">WatGUI X lib Toolkit</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacecs349.html">cs349</a></li><li class="navelem"><a class="el" href="classcs349_1_1XApplication.html">XApplication</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="#friends">Friends</a> &#124;
<a href="classcs349_1_1XApplication-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">cs349::XApplication Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &quot;<a class="el" href="XApplication_8h_source.html">XApplication.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a40ab9fd57cd9d3ca828fe73dedeab8de"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a40ab9fd57cd9d3ca828fe73dedeab8de">~XApplication</a> ()</td></tr>
<tr class="separator:a40ab9fd57cd9d3ca828fe73dedeab8de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfb4d5c2e478697d5ecff88ce2299990"><td class="memItemLeft" align="right" valign="top">Display *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#adfb4d5c2e478697d5ecff88ce2299990">GetXDisplay</a> () const </td></tr>
<tr class="separator:adfb4d5c2e478697d5ecff88ce2299990"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4fcfb5fd4b79930a1cbcb02c07c9ba0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#ae4fcfb5fd4b79930a1cbcb02c07c9ba0">GetDefaultScreen</a> () const </td></tr>
<tr class="separator:ae4fcfb5fd4b79930a1cbcb02c07c9ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63e015ab1a5086bc83979311f904dc65"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a63e015ab1a5086bc83979311f904dc65">GetBlackColor</a> () const </td></tr>
<tr class="separator:a63e015ab1a5086bc83979311f904dc65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e91a172c3f670f1957bdd01b4ec8ded"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a8e91a172c3f670f1957bdd01b4ec8ded">GetWhiteColor</a> () const </td></tr>
<tr class="separator:a8e91a172c3f670f1957bdd01b4ec8ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae15b085c20eea49e1a77dce701b96fa0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#ae15b085c20eea49e1a77dce701b96fa0">GetEventQueue</a> ()</td></tr>
<tr class="separator:ae15b085c20eea49e1a77dce701b96fa0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d655a58a8e4ef37e5d517a6a1c54f8a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a2d655a58a8e4ef37e5d517a6a1c54f8a">SetEventQueue</a> (<a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> *<a class="el" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a">eventQueue</a>)</td></tr>
<tr class="separator:a2d655a58a8e4ef37e5d517a6a1c54f8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020786f517eb9328d00230fe8d8f3a63"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a020786f517eb9328d00230fe8d8f3a63">Run</a> (bool runOnce=false)</td></tr>
<tr class="separator:a020786f517eb9328d00230fe8d8f3a63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb204cc7b6296ea408932830c8d80ff7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#afb204cc7b6296ea408932830c8d80ff7">Quit</a> ()</td></tr>
<tr class="separator:afb204cc7b6296ea408932830c8d80ff7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a20eb5c54f75b85ebb6a88ba7b11c1bed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a20eb5c54f75b85ebb6a88ba7b11c1bed">GetInstance</a> ()</td></tr>
<tr class="separator:a20eb5c54f75b85ebb6a88ba7b11c1bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a3864ac676d9d2a83fd9347537bef5504"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a3864ac676d9d2a83fd9347537bef5504">XApplication</a> ()</td></tr>
<tr class="separator:a3864ac676d9d2a83fd9347537bef5504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab4a88378036e1a969487c3c55ac228c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#aab4a88378036e1a969487c3c55ac228c">HandleXError</a> (Display *<a class="el" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0">display</a>)</td></tr>
<tr class="separator:aab4a88378036e1a969487c3c55ac228c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabeada17b18c74de81e272bde390e979"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#aabeada17b18c74de81e272bde390e979">CheckForXEvents</a> ()</td></tr>
<tr class="separator:aabeada17b18c74de81e272bde390e979"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a5397f69a16189a3408cdcbb02d1787d0"><td class="memItemLeft" align="right" valign="top">Display *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0">display</a></td></tr>
<tr class="memdesc:a5397f69a16189a3408cdcbb02d1787d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">A pointer to the display.  <a href="#a5397f69a16189a3408cdcbb02d1787d0">More...</a><br/></td></tr>
<tr class="separator:a5397f69a16189a3408cdcbb02d1787d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9c6b295e5ac58c8893d57a79fc9138b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#af9c6b295e5ac58c8893d57a79fc9138b">screen</a></td></tr>
<tr class="memdesc:af9c6b295e5ac58c8893d57a79fc9138b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Represents the default screen to display on.  <a href="#af9c6b295e5ac58c8893d57a79fc9138b">More...</a><br/></td></tr>
<tr class="separator:af9c6b295e5ac58c8893d57a79fc9138b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a138afea0cac1943dab344e0ea31ebf5c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a138afea0cac1943dab344e0ea31ebf5c">quit</a></td></tr>
<tr class="memdesc:a138afea0cac1943dab344e0ea31ebf5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether the app should continue to run, or quit.  <a href="#a138afea0cac1943dab344e0ea31ebf5c">More...</a><br/></td></tr>
<tr class="separator:a138afea0cac1943dab344e0ea31ebf5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a985cb72a95ffa4a06c0870e1b3f5bf7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a">eventQueue</a></td></tr>
<tr class="memdesc:a985cb72a95ffa4a06c0870e1b3f5bf7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">The event queue used to manage events.  <a href="#a985cb72a95ffa4a06c0870e1b3f5bf7a">More...</a><br/></td></tr>
<tr class="separator:a985cb72a95ffa4a06c0870e1b3f5bf7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:aa0edc879c8a1985c4771f9776d99cdb3"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#aa0edc879c8a1985c4771f9776d99cdb3">s_Instance</a> = NULL</td></tr>
<tr class="separator:aa0edc879c8a1985c4771f9776d99cdb3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a45bde6d061cfc5a9dd78eb9b1b609ab1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classcs349_1_1XApplication.html#a45bde6d061cfc5a9dd78eb9b1b609ab1">ErrorHandler</a> (Display *<a class="el" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0">display</a>)</td></tr>
<tr class="separator:a45bde6d061cfc5a9dd78eb9b1b609ab1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="classcs349_1_1XApplication.html">XApplication</a> is the back-bone of your application. <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> does the following:</p>
<ul>
<li>Initializes and maintains the connection with X, and provides access to important X variables (such as the values for black and white colors).</li>
<li>Implements the event loop via its <a class="el" href="classcs349_1_1XApplication.html#a020786f517eb9328d00230fe8d8f3a63">Run()</a> method. In the event loop, new events are received from X, packaged up as our own custom <a class="el" href="classcs349_1_1Event.html">Event</a> objects, and added to the <a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> object. Events are then peeled off the event queue in FIFO order, and asked to deliver themselves.</li>
</ul>
<p><a class="el" href="classcs349_1_1XApplication.html">XApplication</a> is a <em>singleton</em>: There is only one instance of it in existence throughout the lifetime of the application. As such, you don't directly instantiate the <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> object. Instead, you call <a class="el" href="classcs349_1_1XApplication.html#a20eb5c54f75b85ebb6a88ba7b11c1bed">XApplication::GetInstance()</a>. </p>

<p>Definition at line <a class="el" href="XApplication_8h_source.html#l00033">33</a> of file <a class="el" href="XApplication_8h_source.html">XApplication.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3864ac676d9d2a83fd9347537bef5504"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cs349::XApplication::XApplication </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Private constructor so only one instance can be created (it's a singleton). Use <a class="el" href="classcs349_1_1XApplication.html#a20eb5c54f75b85ebb6a88ba7b11c1bed">GetInstance()</a> to construct/get a pointer to the actual object. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00030">30</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00038">display</a>, <a class="el" href="XApplication_8h_source.html#l00041">eventQueue</a>, <a class="el" href="Logging_8h_source.html#l00015">LOG_FATAL</a>, <a class="el" href="XApplication_8h_source.html#l00040">quit</a>, and <a class="el" href="XApplication_8h_source.html#l00039">screen</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00058">GetInstance()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;  {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a> = <span class="keyword">new</span> <a class="code" href="classcs349_1_1EventQueue.html">EventQueue</a>();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">// Initialize the X display and get the default screen</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a> = XOpenDisplay(<span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>) {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;      <a class="code" href="Logging_8h.html#ac2164369b4d2bf72296f8ba6ea576ecf">LOG_FATAL</a> &lt;&lt; <span class="stringliteral">&quot;Error: Couldn&#39;t open X display&quot;</span>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#af9c6b295e5ac58c8893d57a79fc9138b" title="Represents the default screen to display on. ">screen</a> = DefaultScreen(<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#a138afea0cac1943dab344e0ea31ebf5c" title="Whether the app should continue to run, or quit. ">quit</a>   = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a40ab9fd57cd9d3ca828fe73dedeab8de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cs349::XApplication::~XApplication </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>When this destructor is called, the singleton (global) instance is set to NULL, allowing <a class="el" href="classcs349_1_1XApplication.html#a20eb5c54f75b85ebb6a88ba7b11c1bed">GetInstance()</a> to be called again (and thus creating a new global <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> object). </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00043">43</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00038">display</a>, <a class="el" href="XApplication_8h_source.html#l00041">eventQueue</a>, <a class="el" href="XWindow_8cpp_source.html#l00234">cs349::XWindow::GetWindowList()</a>, and <a class="el" href="XApplication_8h_source.html#l00036">s_Instance</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;  {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a> != NULL) {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      vector&lt;XWindow*&gt; windows = <a class="code" href="classcs349_1_1XWindow.html#a6787b96a930473e69436e52b9be5ec7b">XWindow::GetWindowList</a>();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;      <span class="keywordflow">for</span> (vector&lt;XWindow*&gt;::iterator win = windows.begin(); win != windows.end(); win++) {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keyword">delete</span> (*win);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;      }</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      XCloseDisplay(<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a> = NULL;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keyword">delete</span> <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a> = NULL;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#aa0edc879c8a1985c4771f9776d99cdb3">s_Instance</a> = NULL;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aabeada17b18c74de81e272bde390e979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void cs349::XApplication::CheckForXEvents </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This method checks whether any X events are pending. If so, it packages them up as our own events and adds them to the eventQueue. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00125">125</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="EventQueue_8cpp_source.html#l00025">cs349::EventQueue::AddEventToQueue()</a>, <a class="el" href="XApplication_8h_source.html#l00038">display</a>, <a class="el" href="XApplication_8h_source.html#l00041">eventQueue</a>, <a class="el" href="XWindow_8cpp_source.html#l00094">cs349::XWindow::GetGraphics()</a>, <a class="el" href="XWindow_8cpp_source.html#l00018">cs349::XWindow::GetXWindowForWindow()</a>, <a class="el" href="KeyEvent_8h_source.html#l00032">cs349::KeyEvent::keyPress</a>, <a class="el" href="KeyEvent_8h_source.html#l00033">cs349::KeyEvent::keyRelease</a>, <a class="el" href="Logging_8h_source.html#l00009">LOG_TODO</a>, <a class="el" href="MouseEvent_8h_source.html#l00034">cs349::MouseEvent::mouseDown</a>, <a class="el" href="MouseEvent_8h_source.html#l00036">cs349::MouseEvent::mouseDrag</a>, <a class="el" href="MouseEvent_8h_source.html#l00035">cs349::MouseEvent::mouseMove</a>, <a class="el" href="MouseEvent_8h_source.html#l00033">cs349::MouseEvent::mouseUp</a>, and <a class="el" href="Graphics_8cpp_source.html#l00224">cs349::Graphics::SetClipRect()</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00222">Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                                     {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;<span class="comment">     * TODO for CS349 assignment:</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;<span class="comment">     * Check if there is an X event pending. If so, package it up</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;<span class="comment">     * using our own Event classes, and add it to the eventQueue.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;<span class="comment">     * See the documentation at</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment">     * http://tronche.com/gui/x/xlib/events/types.html to learn how to</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">     * identify the different types of X events. We have shown how to</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">     * get the Expose event (which indicates your window should</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">     * repaint itself) and package it up as a PaintEvent.</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;<span class="comment">     * Note that XEvent is a union of structs. This union is</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;<span class="comment">     * documented on the page following the one above:</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="comment">     * http://tronche.com/gui/x/xlib/events/structures.html</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">     * If you are unfamiliar with C/C++ unions, or need a refresher,</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">     * see:</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">     * http://www.tutorialspoint.com/cprogramming/c_unions.htm</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">     * http://stackoverflow.com/questions/346536/difference-between-a-structure-and-a-union-in-c </span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">     * Another thing to note is that nothing will paint on your window</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;<span class="comment">     * until it is mapped on the screen. You don&#39;t necessarily need to</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;<span class="comment">     * be aware of when it is mapped, just be aware that until it&#39;s</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="comment">     * displayed, any painting operations will have no effect when</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">     * it&#39;s actually put on the screen.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">     *</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="comment">     * One thing you may be wondering is why we package up an event</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment">     * and add it to the event queue, rather than dispatching it right</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">     * away. The reason is that events may be added to the queue by</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">     * other objects (such as TimerEvents). Thus, to preserve proper</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">     * temporal ordering of events, you need to add events to the</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">     * queue and dispath them one by one.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      <span class="keywordtype">bool</span> button_pressed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="keywordflow">if</span> (XPending(this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>)) {</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="comment">// Get event, package it up, add it to the queue</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <a class="code" href="classcs349_1_1Event.html">Event</a>* newEvent = NULL;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;      XEvent event;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      XNextEvent(this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>, &amp;event);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;      <a class="code" href="classcs349_1_1XWindow.html">XWindow</a>* window = <a class="code" href="classcs349_1_1XWindow.html#aa96c28116f6b0b483a4c60c57d2382cf">XWindow::GetXWindowForWindow</a>(event.xany.window);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        KeySym key;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        <span class="keywordtype">char</span> key2;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordtype">int</span> count;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordtype">char</span> buffer[500];</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;      <a class="code" href="Logging_8h.html#a10a0cfcfbc902de123b4e2f986073a75">LOG_TODO</a> &lt;&lt; <span class="stringliteral">&quot;TODO CS349: Implement XApplication::CheckForXEvents (remove when implemented)&quot;</span>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;      <span class="keywordflow">switch</span> (event.type) {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;      <span class="keywordflow">case</span> Expose:</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1PaintEvent.html">PaintEvent</a>(window, <a class="code" href="classcs349_1_1Rectangle.html">Rectangle</a>(event.xexpose.x, event.xexpose.y, event.xexpose.width, event.xexpose.height));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">// TODO CS349</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          <span class="keywordflow">case</span> ConfigureNotify:</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;              window-&gt;<a class="code" href="classcs349_1_1XWindow.html#af1a1374ca4187515622cd47825cd99b2">GetGraphics</a>()-&gt;<a class="code" href="classcs349_1_1Graphics.html#a8ae4bf61f7844aa725bba85b3bb2e1ea">SetClipRect</a>(<a class="code" href="classcs349_1_1Rectangle.html">Rectangle</a>(0, 0, event.xconfigure.width, event.xconfigure.height));</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;              newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1PaintEvent.html">PaintEvent</a>(window, <a class="code" href="classcs349_1_1Rectangle.html">Rectangle</a>(0, 0, event.xconfigure.width, event.xconfigure.height));</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;          <span class="keywordflow">case</span> KeyPress:<span class="comment">//handle key press event</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;              count = XLookupString((XKeyEvent*)&amp;event, buffer, 500, &amp;key, NULL);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;              key2 = (char)key;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;              newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1KeyEvent.html">KeyEvent</a>(window,<a class="code" href="classcs349_1_1KeyEvent.html#a781c031b3e9d84eb66bb9a2e16da733da86cb199f9936bf22bb4809ca0f392c3e">KeyEvent::keyPress</a>,key2);</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;          <span class="keywordflow">case</span> KeyRelease:</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;              count = XLookupString((XKeyEvent*)&amp;event, buffer, 500, &amp;key, NULL);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;              key2 = (char)key;</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;              newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1KeyEvent.html">KeyEvent</a>(window,<a class="code" href="classcs349_1_1KeyEvent.html#a781c031b3e9d84eb66bb9a2e16da733daed49b05060b836724f474efebef581eb">KeyEvent::keyRelease</a>,key2);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;          <span class="keywordflow">case</span> ButtonPress:</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;              newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1MouseEvent.html">MouseEvent</a>(window,<a class="code" href="classcs349_1_1MouseEvent.html#aa2365f057efb1e3089329a2724c261fbaa245a313780385399b1e9bad6d54889a">MouseEvent::mouseDown</a>,<a class="code" href="classcs349_1_1Point.html">Point</a>(event.xbutton.x, event.xbutton.y));</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;              button_pressed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;          <span class="keywordflow">case</span> ButtonRelease:</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;              newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1MouseEvent.html">MouseEvent</a>(window,<a class="code" href="classcs349_1_1MouseEvent.html#aa2365f057efb1e3089329a2724c261fba204f8f9ea5906cdbac1666a08c56ce45">MouseEvent::mouseUp</a>,<a class="code" href="classcs349_1_1Point.html">Point</a>(event.xbutton.x, event.xbutton.y));</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;              button_pressed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;          <span class="keywordflow">case</span> MotionNotify:</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;              <span class="keywordflow">if</span>(button_pressed){</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                  newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1MouseEvent.html">MouseEvent</a>(window,<a class="code" href="classcs349_1_1MouseEvent.html#aa2365f057efb1e3089329a2724c261fbaf27047eaf823613aee256398a14ac1d8">MouseEvent::mouseDrag</a>,<a class="code" href="classcs349_1_1Point.html">Point</a>(event.xmotion.x, event.xmotion.y));</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;              }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;              <span class="keywordflow">else</span>{</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                  newEvent = <span class="keyword">new</span> <a class="code" href="classcs349_1_1MouseEvent.html">MouseEvent</a>(window,<a class="code" href="classcs349_1_1MouseEvent.html#aa2365f057efb1e3089329a2724c261fba1d88e4838bb297b66c5f23c221e64b2a">MouseEvent::mouseMove</a>,<a class="code" href="classcs349_1_1Point.html">Point</a>(event.xmotion.x, event.xmotion.y));</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;              }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;              <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;      <span class="keywordflow">case</span> DestroyNotify:</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="comment">// You can ignore this</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;Destroy notify event received&quot;</span>;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;      }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;      <span class="keywordflow">if</span> (newEvent != NULL) {</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a>-&gt;<a class="code" href="classcs349_1_1EventQueue.html#a59054e7de53a39e470f7be75e179ed58">AddEventToQueue</a>(newEvent);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;      }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a63e015ab1a5086bc83979311f904dc65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long cs349::XApplication::GetBlackColor </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the value representing black from this X server. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00067">67</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00038">display</a>, and <a class="el" href="XApplication_8h_source.html#l00039">screen</a>.</p>

<p>Referenced by <a class="el" href="Component_8cpp_source.html#l00014">cs349::Component::Component()</a>, <a class="el" href="Graphics_8cpp_source.html#l00040">cs349::Graphics::DebugDelay()</a>, and <a class="el" href="XWindow_8cpp_source.html#l00023">cs349::XWindow::XWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> BlackPixel(this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>, this-&gt;<a class="code" href="classcs349_1_1XApplication.html#af9c6b295e5ac58c8893d57a79fc9138b" title="Represents the default screen to display on. ">screen</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae4fcfb5fd4b79930a1cbcb02c07c9ba0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cs349::XApplication::GetDefaultScreen </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the default screen for this X server. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00072">72</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00039">screen</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;  {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classcs349_1_1XApplication.html#af9c6b295e5ac58c8893d57a79fc9138b" title="Represents the default screen to display on. ">screen</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ae15b085c20eea49e1a77dce701b96fa0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> * cs349::XApplication::GetEventQueue </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns a pointer to this app's <a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> object, to be able to add Events to it. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00077">77</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00041">eventQueue</a>.</p>

<p>Referenced by <a class="el" href="A2UnitTests_8cpp_source.html#l00080">FlushEventQueue()</a>, <a class="el" href="a1__main_8cpp_source.html#l00014">main()</a>, <a class="el" href="XWindow_8cpp_source.html#l00161">cs349::XWindow::Repaint()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00853">cs349::scheme_simulate_key_event()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00874">cs349::scheme_simulate_mouse_event()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00892">cs349::scheme_simulate_paint_event()</a>, <a class="el" href="A2UnitTests_8cpp_source.html#l00091">SimulateClick()</a>, <a class="el" href="A2UnitTests_8cpp_source.html#l00097">SimulateDrag()</a>, and <a class="el" href="A1UnitTests_8cpp_source.html#l00009">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;  {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a>;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a20eb5c54f75b85ebb6a88ba7b11c1bed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcs349_1_1XApplication.html">XApplication</a> * cs349::XApplication::GetInstance </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Gets a pointer to the <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> object (constructing it, if necessary). </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00058">58</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00036">s_Instance</a>, and <a class="el" href="XApplication_8cpp_source.html#l00030">XApplication()</a>.</p>

<p>Referenced by <a class="el" href="Component_8cpp_source.html#l00014">cs349::Component::Component()</a>, <a class="el" href="Graphics_8cpp_source.html#l00040">cs349::Graphics::DebugDelay()</a>, <a class="el" href="XApplication_8cpp_source.html#l00025">cs349::ErrorHandler()</a>, <a class="el" href="Graphics_8cpp_source.html#l00013">cs349::Graphics::Graphics()</a>, <a class="el" href="TurtlePanel_8cpp_source.html#l00016">cs349::TurtlePanel::PaintComponent()</a>, <a class="el" href="PlaybackPanel_8cpp_source.html#l00013">cs349::PlaybackPanel::PaintComponent()</a>, <a class="el" href="XWindow_8cpp_source.html#l00161">cs349::XWindow::Repaint()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00188">cs349::scheme_call_c_function()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00853">cs349::scheme_simulate_key_event()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00874">cs349::scheme_simulate_mouse_event()</a>, <a class="el" href="SchemeGUI_8cpp_source.html#l00892">cs349::scheme_simulate_paint_event()</a>, <a class="el" href="A1UnitTests_8cpp_source.html#l00009">TEST()</a>, and <a class="el" href="XWindow_8cpp_source.html#l00023">cs349::XWindow::XWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classcs349_1_1XApplication.html#aa0edc879c8a1985c4771f9776d99cdb3">XApplication::s_Instance</a>) {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;      <a class="code" href="classcs349_1_1XApplication.html#aa0edc879c8a1985c4771f9776d99cdb3">s_Instance</a> = <span class="keyword">new</span> <a class="code" href="classcs349_1_1XApplication.html#a3864ac676d9d2a83fd9347537bef5504">XApplication</a>();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classcs349_1_1XApplication.html#aa0edc879c8a1985c4771f9776d99cdb3">s_Instance</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8e91a172c3f670f1957bdd01b4ec8ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long cs349::XApplication::GetWhiteColor </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the value representing white from this X server. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00092">92</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00038">display</a>, and <a class="el" href="XApplication_8h_source.html#l00039">screen</a>.</p>

<p>Referenced by <a class="el" href="Component_8cpp_source.html#l00014">cs349::Component::Component()</a>, <a class="el" href="Graphics_8cpp_source.html#l00040">cs349::Graphics::DebugDelay()</a>, and <a class="el" href="XWindow_8cpp_source.html#l00023">cs349::XWindow::XWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> WhitePixel(this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>, this-&gt;<a class="code" href="classcs349_1_1XApplication.html#af9c6b295e5ac58c8893d57a79fc9138b" title="Represents the default screen to display on. ">screen</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adfb4d5c2e478697d5ecff88ce2299990"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Display * cs349::XApplication::GetXDisplay </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves the X Display for this X server. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00097">97</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00038">display</a>.</p>

<p>Referenced by <a class="el" href="XWindow_8cpp_source.html#l00023">cs349::XWindow::XWindow()</a>.</p>
<div class="fragment"><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;  {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aab4a88378036e1a969487c3c55ac228c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cs349::XApplication::HandleXError </td>
          <td>(</td>
          <td class="paramtype">Display *&#160;</td>
          <td class="paramname"><em>display</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00102">102</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="SchemeInterpreter_8c_source.html#l00227">scheme_interpreter_shutdown()</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00025">cs349::ErrorHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">      This method is called whenever there is a serious X error. This</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">      method will be called when the user manually closes the window.</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">      You could clean up the event queue, release memory, and anything</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">      else needed before the application quits, because once this</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">      method returns, X will forcibly terminate the entire</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">      application.</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">// Shut down the Scheme interpreter so it cleanly exits readline.</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Otherwise, it puts the terminal in a funky state</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="SchemeInterpreter_8c.html#ade9a31af901b02ea176b9c2c42f46999">scheme_interpreter_shutdown</a>();</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> -1;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afb204cc7b6296ea408932830c8d80ff7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cs349::XApplication::Quit </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stops the event loop. </p>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00119">119</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00040">quit</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00222">Run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;  {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <a class="code" href="classcs349_1_1XApplication.html#a138afea0cac1943dab344e0ea31ebf5c" title="Whether the app should continue to run, or quit. ">quit</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a020786f517eb9328d00230fe8d8f3a63"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cs349::XApplication::Run </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>runOnce</em> = <code>false</code>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the application event loop. This will run until "Quit" is called, the user closes the window, or will only run once if the runOnce flag is set to true. For normal operation, runOnce should be set to false, indicating the application should run until the user signals they wish to quit. However, for unit testing, runOnce can be set to true, allowing unit tests to test single runs through the event loop.</p>
<p>If Quit is called, and then Run is called again, Run will reset the quit flag to run again until Quit is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">runOnce</td><td>A flag to indicate whether the event loop should run continuously just once. If runOnce=false, the event loop will run until a) Quit is called or b) the user closes the window. If runOnce=true, it will run just a single pass through the event loop </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00222">222</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8cpp_source.html#l00125">CheckForXEvents()</a>, <a class="el" href="XApplication_8h_source.html#l00038">display</a>, <a class="el" href="classcs349_1_1XApplication.html#a45bde6d061cfc5a9dd78eb9b1b609ab1">ErrorHandler</a>, <a class="el" href="XApplication_8h_source.html#l00041">eventQueue</a>, <a class="el" href="Logging_8h_source.html#l00009">LOG_TODO</a>, <a class="el" href="EventQueue_8cpp_source.html#l00037">cs349::EventQueue::ProcessNextEvent()</a>, <a class="el" href="XApplication_8h_source.html#l00040">quit</a>, <a class="el" href="XApplication_8cpp_source.html#l00119">Quit()</a>, and <a class="el" href="SchemeInterpreter_8c_source.html#l00143">scheme_interpreter_service()</a>.</p>

<p>Referenced by <a class="el" href="A2UnitTests_8cpp_source.html#l00080">FlushEventQueue()</a>, <a class="el" href="a1__main_8cpp_source.html#l00014">main()</a>, and <a class="el" href="A2UnitTests_8cpp_source.html#l00038">TEST()</a>.</p>
<div class="fragment"><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    XSetIOErrorHandler(<a class="code" href="classcs349_1_1XApplication.html#a45bde6d061cfc5a9dd78eb9b1b609ab1">ErrorHandler</a>);</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;  </div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="comment">/*</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">     * This is where you will implement the event loop. The basic</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">     * logic of the event loop is as follows:</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="comment">     * - You should service the CS349 Scheme interpreter to ensure it</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<span class="comment">     *   progresses (executes any scripts, accepts any user keyboard</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;<span class="comment">     *   input) (already done for you)</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;<span class="comment">     * - Check the return code for scheme_interpreter_service. If it</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;<span class="comment">     *   returns a non-zero value, the application should quit</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;<span class="comment">     * - You need to determine whether there are any events pending in</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="comment">     *   X lib: call CheckForXEvents().</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<span class="comment">     * - You should call EventQueue&#39;s ProcessNextEvent() method to</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;<span class="comment">     *   process events and service the timers. Note, you should call</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;<span class="comment">     *   this *even if there are no events pending*, since it will</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;<span class="comment">     *   service the timers.</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment">     * - You can optionally call XFlush() to flush X&#39;s queue of</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">     *   graphics commands to the X server, but it is likely</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">     *   unnecessary given calls to other Xlib functions. See the</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">     *   following for more information:</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">     *   http://tronche.com/gui/x/xlib/event-handling/XFlush.html</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;<span class="comment">     * - You should sleep if there is nothing left to do (i.e., there</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment">     *   are no events in our event queue or pending in X&#39;s event</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">     *   queue -- check with XPending). Sleeping for a bit will ensure</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">     *   the CPU is not throttled.</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">     * - If you sleep, sleep for a very small amount of time, say</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;<span class="comment">     *   1/1000 of a second, to enable interactive typing rates on the</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;<span class="comment">     *   console. (See the usleep function for fine-grained sleep</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;<span class="comment">     *   amounts).</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<span class="comment">     * - We *will* check to ensure your app doesn&#39;t throttle the CPU</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;<span class="comment">     *   when idle, so make sure you sleep when there are no events.</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;<span class="comment">     */</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a138afea0cac1943dab344e0ea31ebf5c" title="Whether the app should continue to run, or quit. ">quit</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;      <span class="keywordtype">int</span> interpreterReturnCode = 0;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;      interpreterReturnCode = <a class="code" href="SchemeInterpreter_8c.html#a466aeea762b6c18050ff50bfc65477a6">scheme_interpreter_service</a>();</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;      <span class="keywordflow">if</span> (interpreterReturnCode == 1) {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        this-&gt;<a class="code" href="classcs349_1_1XApplication.html#afb204cc7b6296ea408932830c8d80ff7">Quit</a>();</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;      }</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="Logging_8h.html#a10a0cfcfbc902de123b4e2f986073a75">LOG_TODO</a> &lt;&lt; <span class="stringliteral">&quot;TODO CS349: Implement event loop in XApplication::Run (remove when implemented)&quot;</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">// TODO CS349</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="classcs349_1_1XApplication.html#aabeada17b18c74de81e272bde390e979">CheckForXEvents</a>();</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;        <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a>-&gt;<a class="code" href="classcs349_1_1EventQueue.html#ae2889d3f68fe87046e9e4815cd0b3355">ProcessNextEvent</a>();</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        XFlush(<a class="code" href="classcs349_1_1XApplication.html#a5397f69a16189a3408cdcbb02d1787d0" title="A pointer to the display. ">display</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;        usleep(10000);</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    } <span class="keywordflow">while</span> (!this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a138afea0cac1943dab344e0ea31ebf5c" title="Whether the app should continue to run, or quit. ">quit</a> &amp;&amp; !runOnce);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a2d655a58a8e4ef37e5d517a6a1c54f8a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cs349::XApplication::SetEventQueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> *&#160;</td>
          <td class="paramname"><em>eventQueue</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Replaces the current event queue with the given event queue. When setting the event queue, <a class="el" href="classcs349_1_1XApplication.html">XApplication</a> takes over management of the memory represented by the passed in pointer. It will also delete the existing event queue, making any existing pointers to it invalid. Any events on the existing event queue will be thrown away when it is deleted.</p>
<p>This functionality is provided to make it easier to test event queue event handling in unit tests. <em>You do not need to replace the event queue for normal operation of the toolkit.</em></p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eventQueue</td><td>A pointer to a heap-allocated <a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a> (it is a fatal error to pass in a NULL pointer) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="XApplication_8cpp_source.html#l00082">82</a> of file <a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a>.</p>

<p>References <a class="el" href="XApplication_8h_source.html#l00041">eventQueue</a>, and <a class="el" href="Logging_8h_source.html#l00015">LOG_FATAL</a>.</p>
<div class="fragment"><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">if</span> (!eventQueue) {</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;      <a class="code" href="Logging_8h.html#ac2164369b4d2bf72296f8ba6ea576ecf">LOG_FATAL</a> &lt;&lt; <span class="stringliteral">&quot;Error: Cannot pass in NULL eventQueue to XApplication::SetEventQueue&quot;</span>;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keyword">delete</span> this-&gt;<a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    this-&gt;eventQueue = <a class="code" href="classcs349_1_1XApplication.html#a985cb72a95ffa4a06c0870e1b3f5bf7a" title="The event queue used to manage events. ">eventQueue</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Friends And Related Function Documentation</h2>
<a class="anchor" id="a45bde6d061cfc5a9dd78eb9b1b609ab1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ErrorHandler </td>
          <td>(</td>
          <td class="paramtype">Display *&#160;</td>
          <td class="paramname"><em>display</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">friend</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This is a callback from X whenever it encounters a serious error (such as when the user closes the window). You can ignore it </p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00222">Run()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a5397f69a16189a3408cdcbb02d1787d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Display* cs349::XApplication::display</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A pointer to the display. </p>

<p>Definition at line <a class="el" href="XApplication_8h_source.html#l00038">38</a> of file <a class="el" href="XApplication_8h_source.html">XApplication.h</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00125">CheckForXEvents()</a>, <a class="el" href="XApplication_8cpp_source.html#l00067">GetBlackColor()</a>, <a class="el" href="XApplication_8cpp_source.html#l00092">GetWhiteColor()</a>, <a class="el" href="XApplication_8cpp_source.html#l00097">GetXDisplay()</a>, <a class="el" href="XApplication_8cpp_source.html#l00222">Run()</a>, <a class="el" href="XApplication_8cpp_source.html#l00030">XApplication()</a>, and <a class="el" href="XApplication_8cpp_source.html#l00043">~XApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="a985cb72a95ffa4a06c0870e1b3f5bf7a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcs349_1_1EventQueue.html">EventQueue</a>* cs349::XApplication::eventQueue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The event queue used to manage events. </p>

<p>Definition at line <a class="el" href="XApplication_8h_source.html#l00041">41</a> of file <a class="el" href="XApplication_8h_source.html">XApplication.h</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00125">CheckForXEvents()</a>, <a class="el" href="XApplication_8cpp_source.html#l00077">GetEventQueue()</a>, <a class="el" href="XApplication_8cpp_source.html#l00222">Run()</a>, <a class="el" href="XApplication_8cpp_source.html#l00082">SetEventQueue()</a>, <a class="el" href="XApplication_8cpp_source.html#l00030">XApplication()</a>, and <a class="el" href="XApplication_8cpp_source.html#l00043">~XApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="a138afea0cac1943dab344e0ea31ebf5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool cs349::XApplication::quit</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Whether the app should continue to run, or quit. </p>

<p>Definition at line <a class="el" href="XApplication_8h_source.html#l00040">40</a> of file <a class="el" href="XApplication_8h_source.html">XApplication.h</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00119">Quit()</a>, <a class="el" href="XApplication_8cpp_source.html#l00222">Run()</a>, and <a class="el" href="XApplication_8cpp_source.html#l00030">XApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="aa0edc879c8a1985c4771f9776d99cdb3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classcs349_1_1XApplication.html">XApplication</a> * cs349::XApplication::s_Instance = NULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="XApplication_8h_source.html#l00036">36</a> of file <a class="el" href="XApplication_8h_source.html">XApplication.h</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00058">GetInstance()</a>, and <a class="el" href="XApplication_8cpp_source.html#l00043">~XApplication()</a>.</p>

</div>
</div>
<a class="anchor" id="af9c6b295e5ac58c8893d57a79fc9138b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int cs349::XApplication::screen</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Represents the default screen to display on. </p>

<p>Definition at line <a class="el" href="XApplication_8h_source.html#l00039">39</a> of file <a class="el" href="XApplication_8h_source.html">XApplication.h</a>.</p>

<p>Referenced by <a class="el" href="XApplication_8cpp_source.html#l00067">GetBlackColor()</a>, <a class="el" href="XApplication_8cpp_source.html#l00072">GetDefaultScreen()</a>, <a class="el" href="XApplication_8cpp_source.html#l00092">GetWhiteColor()</a>, and <a class="el" href="XApplication_8cpp_source.html#l00030">XApplication()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="XApplication_8h_source.html">XApplication.h</a></li>
<li><a class="el" href="XApplication_8cpp_source.html">XApplication.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Feb 2 2014 13:00:45 for CS349 WatGUI by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.4
</small></address>
</body>
</html>
